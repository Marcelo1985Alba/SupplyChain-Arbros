@page "/control-calidad/Trazabilidad"
@page "/control-calidad/Trazabilidad/{Pedido}"
@using Syncfusion.Blazor.Popups
@using Syncfusion.Blazor.Notifications
@using Syncfusion.Pdf;
@using Syncfusion.Pdf.Graphics;
@using Syncfusion.Pdf.Grid;
@using Syncfusion.Blazor.Navigations
@using System.Drawing;
@using System.IO;
@using Syncfusion.Blazor.Inputs
@using Syncfusion.Blazor.Calendars
@using Syncfusion.Blazor.DropDowns
@using Syncfusion.Blazor.BarcodeGenerator
@using System.Text.Json
@using Syncfusion.Blazor.Grids
@inject IJSRuntime JsRuntime
@inject HttpClient Http
@using Syncfusion.Blazor.PdfViewer
@using Syncfusion.Pdf.Tables
@{

    <SfToast ID="toast_default" @ref="ToastObj">
        <ToastPosition X="Right"></ToastPosition>
    </SfToast>

    <SfSpinner @ref="refSpinner" Label="Cargando..." Type="SpinnerType.Bootstrap" Size="100" @bind-Visible="@ShowSpinner"></SfSpinner>

    <div id="principal" class="col-lg-12 control-section">
        <div class="content-wrapper">
            <div class="row">
                <div class="col-md-4  col-sm-6 my-1">
                    <SfTextBox ID="txtTrazPedido" Placeholder="Número de Pedido"
                               Input="OnInputPedido" @bind-Value="BoxPedido" FloatLabelType="@FloatLabelType.Auto"></SfTextBox>
                </div>
                <div class="col-md-4 col-sm-6 my-1">
                    <SfTextBox ID="txtTrazCliente" Placeholder="Nombre de Cliente"
                               Input="OnInputCliente" @bind-Value="BoxCliente" FloatLabelType="@FloatLabelType.Auto"></SfTextBox>
                </div>
                <div class=" col-md-4 col-sm-12 my-1">
                    <SfTextBox ID="txtTrazCg_Prod" Placeholder="Codigo de Producto"
                               Input="OnInputCodigo" @bind-Value="BoxCodigo" FloatLabelType="@FloatLabelType.Auto"></SfTextBox>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 col-sm-6 my-1">
                    <button type="button" class="btn btn-success btn-sm" @onclick="@BuscarTrazabilidad">Buscar Pedido</button>
                </div>
                <div class="col-md-4 col-sm-6 my-1">
                    <button type="button" class="btn btn-info btn-sm" @onclick="@MostrarTrazabilidad">Mostrar Trazabilidad</button>
                </div>
                @{
                    if (Showgrid)
                    {
                        <div class="col-md-4 col-sm-6 my-1">
                            <button type="submit" class="btn btn-danger btn-sm" @onclick="@Catalogo">Certificado</button>
                        </div>
                        <div class="col-md-4 col-sm-6 my-1">
                            <button type="submit" class="btn btn-warning btn-sm" @onclick="@Etiqueta">Identificación</button>
                        </div>
                        <div class="col-md-4 col-sm-6 my-1">
                            <button type="submit" class="btn btn-primary btn-sm" @onclick="@Ensayos">Ver ensayos</button>
                        </div>
                    }
                }
            </div>
        </div>
    </div>


    <SfDialog ID="dialogTrazPed" Width="1000px" MinHeight="650px" IsModal="true" ShowCloseIcon="true" @ref="refDialogPedidos"
              Visible="false">
        <DialogTemplates>
            <Header>Listado de Pedidos del Cliente </Header>
            <Content>
                <SfGrid ID="dlgPedidoGrid" @ref="Grid2" GridLines="GridLine.Both" DataSource="@Busquedalist" Height="450px">
                    <GridSelectionSettings Type="Syncfusion.Blazor.Grids.SelectionType.Single"></GridSelectionSettings>
                    <GridEvents RowSelected="@(async ()=> await OnSelected())" TValue="Pedidos"></GridEvents>
                    <GridColumns>
                        <GridColumn Field=@nameof(Pedidos.PEDIDO) HeaderText="Pedido" Width="110px"></GridColumn>
                        <GridColumn Field=@nameof(Pedidos.DES_CLI) HeaderText="Cliente" Width="150px"></GridColumn>
                        <GridColumn Field=@nameof(Pedidos.CG_ART) HeaderText="Codigo" Width="150px"></GridColumn>
                        <GridColumn Field=@nameof(Pedidos.DES_ART) HeaderText="Descripcion" Width="150px"></GridColumn>
                    </GridColumns>
                </SfGrid>
                @{
                    if (Busquedalist.Count == CantidadMostrar)
                    {
                        <div class="col-sm-3 my-1">
                            <button type="submit" class="btn btn-primary" @onclick="@AgregarValores">Buscar más</button>
                        </div>
                    }
                }
            </Content>
        </DialogTemplates>
    </SfDialog>


    if (Showgrid == true)
    {
        <form>
            @{
                var lote = PedCliList.Where(t => t.PEDIDO.ToString() == TrzNro).OrderByDescending(t => t.PEDIDO).FirstOrDefault().LOTE.Trim();
                if (lote == null)
                {
                    lote = "";
                }
                var fecha = vpedidos.Where(t => t.PEDIDO.ToString() == TrzNro && t.TIPOO == 28).OrderByDescending(t => t.PEDIDO).FirstOrDefault().FE_MOV.ToString();
                if (fecha == null)
                {
                    fecha = "";
                }
                var prod = prodList.CG_PROD.ToString();
                if (prod == null)
                {
                    prod = "";
                }
                var orco = PedCliList.Where(t => t.PEDIDO.ToString() == TrzNro).OrderByDescending(t => t.PEDIDO).FirstOrDefault().ORCO.Trim();
                if (orco == null)
                {
                    orco = "";
                }
                if (vpedidos.Where(t => t.PEDIDO.ToString() == TrzNro).OrderByDescending(t => t.PEDIDO).FirstOrDefault().TIPOO == 1)
                {
                    var rem = vpedidos.Where(t => t.PEDIDO.ToString() == TrzNro && t.TIPOO == 1).OrderByDescending(t => t.PEDIDO).FirstOrDefault().REMITO;
                    if (rem != "" && rem != null)
                    {
                        remito = rem;
                    }
                }
                var modelo = prodList.CAMPOCOM1.Trim();
                if (modelo == null)
                {
                    modelo = "";
                }
                var medida = prodList.CAMPOCOM2.Trim();
                if (medida == null)
                {
                    medida = "";
                }
                var orificio = prodList.CAMPOCOM3.Trim();
                if (orificio == null)
                {
                    orificio = "";
                }
                var area = prodList.CAMPOCOM4.Trim();
                if (area == null)
                {
                    area = "";
                }
                var serie = prodList.CAMPOCOM5.Trim();
                if (serie == null)
                {
                    serie = "";
                }
                var tipo = prodList.CAMPOCOM6.Trim();
                if (tipo == null)
                {
                    tipo = "";
                }
                var presion = PedCliList.Where(t => t.PEDIDO.ToString() == TrzNro).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM1.Trim();
                if (presion == null)
                {
                    presion = "";
                }
                var resorte = PedCliList.Where(t => t.PEDIDO.ToString() == TrzNro).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM2.Trim();
                if (resorte == null)
                {
                    resorte = "";
                }
                var fluido = PedCliList.Where(t => t.PEDIDO.ToString() == TrzNro).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM3.Trim();
                if (fluido == null)
                {
                    fluido = "";
                }
                var presAj = PedCliList.Where(t => t.PEDIDO.ToString() == TrzNro).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM4.Trim();
                if (presAj == null)
                {
                    presAj = "";
                }
                var ctpre = PedCliList.Where(t => t.PEDIDO.ToString() == TrzNro).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM5.Trim();
                if (ctpre == null)
                {
                    ctpre = "";
                }
                var temp = PedCliList.Where(t => t.PEDIDO.ToString() == TrzNro).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM6.Trim();
                if (temp == null)
                {
                    temp = "";
                }
            }
            <div class="row">
                <div class="col">
                    <input type="text"
                           class="form-control"
                           placeholder="Pedido: @TrzNro"
                           readonly />
                </div>
                <div class="col">
                    <input type="text"
                           class="form-control"
                           placeholder="Producto: @prod"
                           readonly />
                </div>
                <div class="col">
                    <input type="text"
                           class="form-control"
                           placeholder="O.C.: @orco"
                           readonly />
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <input type="text"
                           class="form-control"
                           placeholder="PSV: @lote"
                           readonly />
                </div>
                <div class="col">
                    <input type="text"
                           class="form-control"
                           placeholder="Fecha: @fecha"
                           readonly />
                </div>
                <div class="col">
                    <input type="text"
                           class="form-control"
                           placeholder="Remito: @remito"
                           readonly />
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <input type="text"
                           class="form-control"
                           placeholder="Modelo: @modelo"
                           readonly />
                </div>
                <div class="col">
                    <input type="text"
                           class="form-control"
                           placeholder="Medida: @medida"
                           readonly />
                </div>
                <div class="col">
                    <input type="text"
                           class="form-control"
                           placeholder="Orificio: @orificio"
                           readonly />
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <input type="text"
                           class="form-control"
                           placeholder="Area: @area"
                           readonly />
                </div>
                <div class="col">
                    <input type="text"
                           class="form-control"
                           placeholder="Serie: @serie"
                           readonly />
                </div>
                <div class="col">
                    <input type="text"
                           class="form-control"
                           placeholder="Tipo: @tipo"
                           readonly />
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <input type="text"
                           class="form-control"
                           placeholder="Presion: @presion"
                           readonly />
                </div>
                <div class="col">
                    <input type="text"
                           class="form-control"
                           placeholder="Resorte: @resorte"
                           readonly />
                </div>
                <div class="col">
                    <input type="text"
                           class="form-control"
                           placeholder="Fluido: @fluido"
                           readonly />
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <input type="text"
                           class="form-control"
                           placeholder="P. Aj Banco: @presAj"
                           readonly />
                </div>
                <div class="col">
                    <input type="text"
                           class="form-control"
                           placeholder="Contrapresión: @ctpre"
                           readonly />
                </div>
                <div class="col">
                    <input type="text"
                           class="form-control"
                           placeholder="Temperatura: @temp"
                           readonly />
                </div>
            </div>
        </form>
        <div class="col-lg-12 control-section">
            <div class="content-wrapper">
                <div class="row">
                    <SfGrid ShowColumnChooser="true" AllowResizing="true" Width="auto" @ref="Grid4" ID="gridTrazPedidos"
                            GridLines="GridLine.Both" AllowReordering="true" AllowSorting="true"
                            DataSource="@vpedidos" AllowExcelExport="true" AllowGrouping="true" Toolbar="@Toolbaritems">
                        <GridSelectionSettings Type="Syncfusion.Blazor.Grids.SelectionType.Single"></GridSelectionSettings>
                        <GridEvents RowSelected="@(async()=> await OnSelectedCertificado())" OnToolbarClick="@ClickHandler"
                                    TValue="vTrazabilidad"></GridEvents>
                        <GridFilterSettings Type="@Syncfusion.Blazor.Grids.FilterType.CheckBox"></GridFilterSettings>
                        <GridGroupSettings ShowGroupedColumn="true"></GridGroupSettings>
                        <GridColumns>
                            <GridColumn Field=@nameof(vTrazabilidad.CG_ART) HeaderText="Producto" Width="100px"></GridColumn>
                            <GridColumn Field=@nameof(vTrazabilidad.DES_ART) HeaderText="Descripcion" Width="200px"></GridColumn>
                            <GridColumn Field=@nameof(vTrazabilidad.DESPACHO) HeaderText="Despacho" Width="70px"></GridColumn>
                            <GridColumn Field=@nameof(vTrazabilidad.LOTE) HeaderText="Lote" Width="70px"></GridColumn>
                            <GridColumn Field=@nameof(vTrazabilidad.NORMA) HeaderText="Norma" Width="70px"></GridColumn>
                            <GridColumn Field=@nameof(vTrazabilidad.CG_LINEA) HeaderText="Linea" Width="70px"></GridColumn>
                        </GridColumns>
                    </SfGrid>
                </div>
            </div>
        </div>
        <SfDialog ID="dialogCertifTraz" @ref="DialogRef" Height="550px" Target="#gridTrazPedidos"
                  Width="950px" CssClass="dialog" ShowCloseIcon="true" Visible="false">
            <DialogTemplates>
                <Header>Detalle</Header>
                <Content>
                    <SfTab>
                        <TabItems>
                            <TabItem>
                                <HeaderTemplate>Certificado</HeaderTemplate>
                                <ContentTemplate>
                                    @{

                                        if (ShowCertificado)
                                        {
                                            var pdf_ruta = NroCertificado.Trim() + ".pdf,RUTATRAZABILIDAD";
                                            <div class="mt-5">
                                                @*<SfPdfViewer DocumentPath="@ruta"></SfPdfViewer>*@
                                                <SfPdfViewer ID="CertifiPdf"
                                                             ServiceUrl="/api/Values" DocumentPath="@pdf_ruta"
                                                             Height="85%" Width="90%"></SfPdfViewer>
                                            </div>
                                        }
                                        else
                                        {
                                            <div class="mt-5">
                                                <span class="text-danger text">No existe Certificado asociado</span>
                                            </div>
                                        }
                                    }
                                </ContentTemplate>
                            </TabItem>
                            <TabItem>
                                <HeaderTemplate>Despiece</HeaderTemplate>
                                <ContentTemplate>
                                    @{
                                        if (OF is null || OF.Count() < 0)
                                        {
                                            <span>Cargando...</span>
                                        }
                                        else
                                        {
                                            <div class="col-lg-12 mt-4">
                                                <div class="content-wrapper">
                                                    <div class="row">
                                                        <SfGrid ID="despieceSE" GridLines="GridLine.Both"
                                                                ShowColumnChooser="true" DataSource="@ordenFabricacionMP">
                                                            <GridEvents TValue="ModeloOrdenFabricacionMP"></GridEvents>
                                                            <GridColumns>
                                                                <GridColumn Field=@nameof(ModeloOrdenFabricacionMP.CG_ART) HeaderText="Producto" Width="55px"></GridColumn>
                                                                <GridColumn Field=@nameof(ModeloOrdenFabricacionMP.DES_ART) HeaderText="Descripcion" Width="130px"></GridColumn>
                                                                <GridColumn Field=@nameof(ModeloOrdenFabricacionMP.DESPACHO) HeaderText="Despacho" Width="60px"></GridColumn>
                                                                <GridColumn Field=@nameof(ModeloOrdenFabricacionMP.LOTE) HeaderText="Lote" Width="110px"></GridColumn>
                                                                <GridColumn Field=@nameof(ModeloOrdenFabricacionMP.STOCK) HeaderText="Cant. Ent." Width="110px"></GridColumn>
                                                            </GridColumns>
                                                        </SfGrid>
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                    }
                                </ContentTemplate>
                            </TabItem>
                        </TabItems>
                    </SfTab>
                </Content>
            </DialogTemplates>
        </SfDialog>
    }
    else
    {
        <label class="centrado">Debe buscar arriba una orden de armado para ver su trazabilidad.</label>
    }
}

@*<BuscadorEmergente DataSource="Busquedalist" Columnas="@(new string[]{"PEDIDO", "DES_CLI", "CG_ART", "DES_ART" })"
    TItem="Pedidos" Width="80%" Height="600px" Titulo="Listado de Pedidos del Cliente"
    MostrarVerMas="@(Busquedalist.Count == CantidadMostrar)" Visible="@IsVisible" IsModal="false"
    OnBuscarMas="@(async() => await AgregarValores())" OnCerrarDialog="@(()=> IsVisible = !IsVisible )"
    OnObjetoSeleccionado="@(async (o)=> await OnSelectedPedido(o))" />*@



<style>
    .e-input-group.e-corner {
        border-radius: 4px;
    }

    label.centrado {
        margin: 0 auto;
        text-align: center;
    }

    .e-dialog.e-control.e-popup, .e-dialog.e-control.e-popup .e-dlg-header-content {
        background-color: #d9edf7;
    }

    e-dialog {
        max-height: 650px;
    }
</style>

@code {

    [Inject] public PdfService PdfService { get; set; }
    [Parameter] public string Pedido { get; set; }
    protected SfGrid<Pedidos> Grid;
    protected SfGrid<Pedidos> Grid2;
    protected SfGrid<Pedidos> Grid3;
    protected SfGrid<vTrazabilidad> Grid4;
    protected SfSpinner refSpinner;
    protected SfDialog DialogRef;
    protected SfDialog refDialogPedidos;
    public bool ShowSpinner = false;
    public bool Enabled = true;
    public bool Disabled = false;
    public bool Showgrid = false;
    public bool ShowCertificado = false;

    protected List<Pedidos> pedidos = new List<Pedidos>();
    protected List<vTrazabilidad> vpedidos = new List<vTrazabilidad>();
    protected List<Pedidos> Pedidoslist = new List<Pedidos>();
    //protected List<Pedidos> Pedidoslist = new List<Pedidos>();
    protected List<Pedidos> Busquedalist = new List<Pedidos>();
    //protected List<Pedidos> Busquedalist = new List<Pedidos>();
    protected List<Pedidos> OF = new List<Pedidos>();
    protected List<PedCli> PedCliList = new List<PedCli>();
    protected Producto prodList = new();
    protected List<Solution> rutas;
    protected List<Producto> ProdCertificado = new List<Producto>();
    protected List<PedCli> PedcliCertificado = new List<PedCli>();
    protected List<Pedidos> PedidosCertificado = new List<Pedidos>();
    protected string ruta;
    protected string BoxPedido = "";
    protected string BoxCliente = "";
    protected string BoxCodigo = "";
    protected string TrzNro = "";
    protected string CodNro = "";
    protected string NroCertificado = "";
    protected int CantidadMostrar = 100;
    protected bool IsVisible { get; set; } = false;
    protected bool IsVisibleCertificado { get; set; } = false;
    public int GridRowHeight = 20;
    string remito = "";

    protected DialogSettings DialogParams = new DialogSettings { MinHeight = "400px", Width = "1100px" };

    SfToast ToastObj;
    List<ModeloOrdenFabricacionMP> ordenFabricacionMP;

    protected List<Object> Toolbaritems = new List<Object>(){
            "Search",
            new ItemModel { Type = ItemType.Separator},
            "Print",
            "ExcelExport",
            new ItemModel { Type = ItemType.Separator},
            "ColumnChooser",
            new ItemModel { Type = ItemType.Separator},
            //new Syncfusion.Blazor.Navigations.ItemModel { Text = "small", TooltipText = "20px", PrefixIcon = "e-big-icon", Id = "small", Align = Syncfusion.Blazor.Navigations.ItemAlign.Right},
            //new Syncfusion.Blazor.Navigations.ItemModel { Text = "medium", TooltipText = "40px", PrefixIcon = "e-medium-icon", Id = "medium", Align = Syncfusion.Blazor.Navigations.ItemAlign.Right},
            //new Syncfusion.Blazor.Navigations.ItemModel { Text = "big", TooltipText = "60px", PrefixIcon = "e-small-icon", Id = "big", Align = Syncfusion.Blazor.Navigations.ItemAlign.Right}
        };
    [CascadingParameter]
    public MainLayout Layout { get; set; }
    protected override async Task OnInitializedAsync()
    {
        Layout.Titulo = "Trazabilidad";
        //rutas = await Http.GetFromJsonAsync<List<Solution>>("api/Solution");

        if (!string.IsNullOrEmpty(Pedido))
        {
            ShowSpinner = true;
            BoxPedido = Pedido;
            await CargaPedido();
            ShowSpinner = false;
        }

        await base.OnInitializedAsync();

    }

    public async Task ClickHandler(Syncfusion.Blazor.Navigations.ClickEventArgs args)
    {
        if (args.Item.Text == "Excel Export")
        {
            await this.Grid.ExcelExport();
        }
        if (args.Item.Text == "Print")
        {
            await this.Grid.Print();
        }
    }

    public async Task OnSelectedPedido(object pedido)
    {
        var ped = (Pedidos)pedido;
        await refSpinner.ShowAsync();
        BoxPedido = ped.PEDIDO.ToString(); // return the details of selected record
        TrzNro = BoxPedido;
        BoxCliente = ped.DES_CLI; // return the details of selected record
        BoxCodigo = ped.CG_ART; // return the details of selected record
        CodNro = BoxCodigo;
        CantidadMostrar = 0;
        await MostrarTrazabilidad();
        //IsVisible = false;
        await refDialogPedidos.HideAsync();
        await refSpinner.HideAsync();
    }


    public async Task OnSelected()
    {
        await refSpinner.ShowAsync();
        BoxPedido = this.Grid2.GetSelectedRecords().Result.FirstOrDefault().PEDIDO.ToString(); // return the details of selected record
        TrzNro = BoxPedido;
        BoxCliente = this.Grid2.GetSelectedRecords().Result.FirstOrDefault().DES_CLI; // return the details of selected record
        BoxCodigo = this.Grid2.GetSelectedRecords().Result.FirstOrDefault().CG_ART; // return the details of selected record
        CodNro = BoxCodigo;
        CantidadMostrar = 0;
        await MostrarTrazabilidad();
        await refSpinner.HideAsync();
    }

    public async Task OnSelectedCertificado()
    {
        await refSpinner.ShowAsync();
        var row = await this.Grid4.GetSelectedRecords();
        if (!string.IsNullOrEmpty(row[0].DESPACHO))
        {
            if (!string.IsNullOrEmpty(row[0].LOTE))
            {
                string ordFab = row[0].LOTE.Substring(3).Trim();

                // Materias Primas entregadas
                var programa = await Http.GetFromJsonAsync<List<Programa>>($"api/Programa/GetProgramaByOF/{Convert.ToDecimal(ordFab)}");
                if (programa != null && programa.Count != 0)
                {
                    ordenFabricacionMP = await Http.GetFromJsonAsync<List<ModeloOrdenFabricacionMP>>($"api/OrdenesFabricacionMP/{programa[0].CG_ORDFASOC.ToString()}");
                }
                else
                {
                    ordenFabricacionMP = new List<ModeloOrdenFabricacionMP>();
                }
            }
            if (!string.IsNullOrEmpty(row[0].DESPACHO))
            {
                NroCertificado = row[0].DESPACHO;
                var archivo = NroCertificado.Trim() + ".pdf";
                ShowCertificado = await Http.GetFromJsonAsync<bool>($"api/AdministracionArchivos/ExisteCertificado/{archivo}");
            }
            await DialogRef.Show(false);
        }
        await refSpinner.HideAsync();
    }

    protected async Task OnInputPedido(InputEventArgs args)
    {
        if (string.IsNullOrEmpty(args.Value))
        {
            return;
        }
        Pedidoslist = await Http.GetFromJsonAsync<List<Pedidos>>($"api/Pedidos/BuscarPorPedido/{args.Value}");
        if (Pedidoslist.Count > 0)
        {
            BoxCliente = Pedidoslist.FirstOrDefault().DES_CLI;
            BoxCodigo = Pedidoslist.FirstOrDefault().CG_ART;
        }
        else
        {
            BoxCliente = "";
            BoxCodigo = "";
        }
    }

    protected async Task OnInputCodigo(InputEventArgs args)
    {
        if (string.IsNullOrEmpty(args.Value))
        {
            return;
        }

        Pedidoslist = await Http.GetFromJsonAsync<List<Pedidos>>($"api/Pedidos/BuscarPorCodigo/{args.Value}");
        if (Pedidoslist.Count > 0)
        {
            BoxCliente = Pedidoslist.FirstOrDefault().DES_CLI;
            BoxPedido = Pedidoslist.FirstOrDefault().PEDIDO.ToString();
        }
        else
        {
            BoxCliente = "";
            BoxPedido = "";
        }
    }

    protected async Task OnInputCliente(InputEventArgs args)
    {
        if (string.IsNullOrEmpty(args.Value))
        {
            return;
        }

        Pedidoslist = await Http.GetFromJsonAsync<List<Pedidos>>($"api/Pedidos/BuscarPorCliente/{args.Value}");
        if (Pedidoslist.Count > 0)
        {
            //BoxPedido = Pedidoslist.FirstOrDefault().PEDIDO.ToString();
            //TrzNro = BoxPedido;
            //BoxCodigo = Pedidoslist.FirstOrDefault().CG_ART;
        }
        else
        {
            BoxPedido = "";
            BoxCodigo = "";
        }
    }

    protected async Task BuscarTrazabilidad()
    {
        await refSpinner.ShowAsync();
        CantidadMostrar = 100;
        if (BoxPedido != "")
        {
            Busquedalist = await Http.GetFromJsonAsync<List<Pedidos>>($"api/Pedidos/BuscarTrazabilidad/{BoxPedido}/Vacio/Vacio/{CantidadMostrar}");
        }
        else if (BoxCliente != "")
        {
            Busquedalist = await Http.GetFromJsonAsync<List<Pedidos>>($"api/Pedidos/BuscarTrazabilidad/Vacio/{BoxCliente}/Vacio/{CantidadMostrar}");
        }
        else if (BoxCodigo != "")
        {
            Busquedalist = await Http.GetFromJsonAsync<List<Pedidos>>($"api/Pedidos/BuscarTrazabilidad/Vacio/Vacio/{BoxCodigo}/{CantidadMostrar}");
        }
        else
        {
            Busquedalist = await Http.GetFromJsonAsync<List<Pedidos>>($"api/Pedidos/BuscarTrazabilidad/{BoxPedido}/{BoxCliente}/{BoxCodigo}/{CantidadMostrar}");
        }

        await refSpinner.HideAsync();
        await refDialogPedidos.ShowAsync();
        IsVisible = true;
    }
    protected async Task MostrarTrazabilidad()
    {
        if (string.IsNullOrEmpty(BoxCodigo))
        {
            await this.ToastObj.Show(new ToastModel
            {
                Title = "Error!",
                Content = "Debe seleccionar un Pedido",
                CssClass = "e-toast-warning",
                Icon = "e-error toast-icons"
            });
        }
        else
        {
            await refSpinner.ShowAsync();

            await refDialogPedidos.HideAsync();
            await refSpinner.HideAsync();
        }


    }

    protected async Task CargaPedido()
    {
        TrzNro = BoxPedido;
        PedCliList = await Http.GetFromJsonAsync<List<PedCli>>($"api/PedCli/{BoxPedido}");
        prodList = await Http.GetFromJsonAsync<Producto>($"api/Prod/{PedCliList.FirstOrDefault().CG_ART.Trim()}");
        pedidos = await Http.GetFromJsonAsync<List<Pedidos>>($"api/Pedidos/MostrarTrazabilidad/{BoxPedido}");
        vpedidos = await Http.GetFromJsonAsync<List<vTrazabilidad>>($"api/Trazabilidads/MostrarTrazabilidad/{BoxPedido}");
        Showgrid = true;
        BoxPedido = "";
        BoxCliente = "";
        BoxCodigo = "";
    }

    protected async Task AgregarValores()
    {
        CantidadMostrar = CantidadMostrar + 100;
        if (BoxPedido != "")
        {
            Busquedalist = await Http.GetFromJsonAsync<List<Pedidos>>($"api/Pedidos/BuscarTrazabilidad/{BoxPedido}/Vacio/Vacio/{CantidadMostrar}");
        }
        else if (BoxCliente != "")
        {
            Busquedalist = await Http.GetFromJsonAsync<List<Pedidos>>($"api/Pedidos/BuscarTrazabilidad/Vacio/{BoxCliente}/Vacio/{CantidadMostrar}");
        }
        else if (BoxCodigo != "")
        {
            Busquedalist = await Http.GetFromJsonAsync<List<Pedidos>>($"api/Pedidos/BuscarTrazabilidad/Vacio/Vacio/{BoxCodigo}/{CantidadMostrar}");
        }
        else
        {
            Busquedalist = await Http.GetFromJsonAsync<List<Pedidos>>($"api/Pedidos/BuscarTrazabilidad/{BoxPedido}/{BoxCliente}/{BoxCodigo}/{CantidadMostrar}");
        }
    }

    protected async Task Catalogo()
    {
        await refSpinner.ShowAsync();
        await PdfService.Catalogo(CodNro, TrzNro, vpedidos);
        await refSpinner.HideAsync();
    }

    protected async Task Etiqueta()
    {
        if (true)
        {
            if (CodNro.Substring(0, 1) == "2")
            {
                string espaciosPedido = "";
                string CLIENTE = PedCliList.Where(t => t.PEDIDO == Convert.ToInt32(TrzNro)).OrderByDescending(t => t.PEDIDO).FirstOrDefault().DES_CLI.Trim();
                if (CLIENTE.Contains("YPF") || CLIENTE.Contains("Y.P.F"))
                {
                    //Chapa de 101 mm x 78 mm
                    PdfDocument document1 = new PdfDocument();
                    document1.PageSettings.Size = new Syncfusion.Drawing.SizeF(382, 295);
                    document1.PageSettings.Margins.All = 0;
                    PdfGrid pdfGrid1 = new PdfGrid();
                    PdfPage page = document1.Pages.Add();
                    PdfGraphics graphics = page.Graphics;
                    PdfFont font = new PdfStandardFont(PdfFontFamily.Courier, 16);
                    PdfLightTable pdfTable = new PdfLightTable();
                    page.Graphics.RotateTransform(-360);
                    for (int i = 0; i < (20 - PedCliList.Where(t => t.PEDIDO == Convert.ToInt32(TrzNro)).OrderByDescending(t => t.PEDIDO).FirstOrDefault().LOTE.Trim().Length); i++)
                    {
                        espaciosPedido = espaciosPedido + " ";
                    }
                    var tipo2 = prodList.CAMPOCOM6;
                    string tipo = "";
                    if (string.IsNullOrEmpty(tipo2))
                    {
                        tipo = "";
                    }
                    else
                    {
                        tipo = tipo2.ToString();
                    }
                    FileStream fs = new FileStream("wwwroot\\logo_aerre.jpg", FileMode.Open);

                    graphics.DrawString($" \r\n" +
                        $"\r\n" +
                        $"\r\n" +
                        $"    Año:{DateTime.Now.Year}  N°:{TrzNro} \r\n" +
                        $"    TAG:{PedCliList.Where(t => t.PEDIDO == Convert.ToInt32(TrzNro)).OrderByDescending(t => t.PEDIDO).FirstOrDefault().LOTE.Trim()}\r\n" +
                        $"    Tipo:\r\n" +
                        $"    Codigo:{CodNro.Trim()}\r\n" +
                        $"    Medida:{prodList.CAMPOCOM2.Trim()}  {prodList.CAMPOCOM3.Trim()}\r\n" +
                        $"    Clase:{prodList.CAMPOCOM5.Trim()}\r\n" +
                        $"    Temp:{PedCliList.Where(t => t.PEDIDO == Convert.ToInt32(TrzNro)).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM6.Trim()}\r\n" +
                        $"    Presion SET:{PedCliList.Where(t => t.PEDIDO == Convert.ToInt32(TrzNro)).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM1.Trim()}\r\n" +
                        $"    P. Aj Banco:{PedCliList.Where(t => t.PEDIDO == Convert.ToInt32(TrzNro)).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM4.Trim()}\r\n" +
                        $"    Ctra.P:{PedCliList.Where(t => t.PEDIDO == Convert.ToInt32(TrzNro)).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM5.Trim()}\r\n" +
                        $"    Fluido:{PedCliList.Where(t => t.PEDIDO == Convert.ToInt32(TrzNro)).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM3.Trim()}\r\n" +
                        $"    Cuerpo:\r\n" +
                        $"    Tobera:\r\n" +
                        $"    Resorte:\r\n" +
                        $"    T.OPDS N°:8/11\r\n" +
                        $"    M.OPDS N°:47642\r\n" +
                        $"          Arbros S.A.\r\n" +
                        $"       www.aerre.com.ar\r\n" +
                        $"     Industria  Argentina\r\n" +
                        $"                               ", font, PdfBrushes.Black, new Syncfusion.Drawing.PointF(0, 0));


                    MemoryStream xx = new MemoryStream();
                    document1.Save(xx);
                    document1.Close(true);
                    await JsRuntime.SaveAs("EtiquetaProd" + CodNro.Trim() + ".pdf", xx.ToArray());
                }
                //else
                //{

                //    string espaciosPedidox = "";
                //    string espaciosAnio = "";
                //    string espaciosSegundoCampo3bis = "";
                //    string espaciosSegundoCampo4bis = "";
                //    string espaciosSegundoCampo5bis = "";

                //    //Chapa de 101 mm x 78 mm
                //    PdfDocument document1 = new PdfDocument();
                //    document1.PageSettings.Size = new Syncfusion.Drawing.SizeF(382, 295);
                //    document1.PageSettings.Margins.All = 0;
                //    PdfGrid pdfGrid1 = new PdfGrid();
                //    PdfPage page = document1.Pages.Add();
                //    PdfGraphics graphics = page.Graphics;
                //    PdfFont font = new PdfStandardFont(PdfFontFamily.Courier, 16);
                //    PdfLightTable pdfTable = new PdfLightTable();
                //    page.Graphics.RotateTransform(-360);

                //    for (int i = 0; i < (25 - PedCliList.Where(t => t.PEDIDO == ordenFabricacion.PEDIDO).OrderByDescending(t => t.PEDIDO).FirstOrDefault().LOTE.Length); i++)
                //    {
                //        espaciosPedidox = espaciosPedidox + " ";
                //    }
                //    for (int i = 0; i < (16 - ordenFabricacion.CG_PROD.Length); i++)
                //    {
                //        espaciosAnio = espaciosAnio + " ";
                //    }
                //    for (int i = 0; i < (25 - prodList.Where(t => t.CG_PROD == ordenFabricacion.CG_PROD).OrderByDescending(t => t.CG_PROD).FirstOrDefault().CAMPOCOM5.Trim().Length); i++)
                //    {
                //        espaciosSegundoCampo3bis = espaciosSegundoCampo3bis + " ";
                //    }
                //    for (int i = 0; i < (25 - PedCliList.Where(t => t.PEDIDO == ordenFabricacion.PEDIDO).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM3.Trim().Length); i++)
                //    {
                //        espaciosSegundoCampo4bis = espaciosSegundoCampo4bis + " ";
                //    }
                //    for (int i = 0; i < (25 - prodList.Where(t => t.CG_PROD == ordenFabricacion.CG_PROD).OrderByDescending(t => t.CG_PROD).FirstOrDefault().CAMPOCOM5.Trim().Length); i++)
                //    {
                //        espaciosSegundoCampo5bis = espaciosSegundoCampo5bis + " ";
                //    }

                //    string xd1 = prodList.Where(t => t.CG_PROD == ordenFabricacion.CG_PROD).OrderByDescending(t => t.CG_PROD).FirstOrDefault().CAMPOCOM2.Trim();
                //    string xd2 = prodList.Where(t => t.CG_PROD == ordenFabricacion.CG_PROD).OrderByDescending(t => t.CG_PROD).FirstOrDefault().CAMPOCOM5.Trim();
                //    int UbicacionXMedida = xd1.ToLower().IndexOf('x');
                //    int UbicacionXMedida2 = xd2.ToLower().IndexOf('x');

                //    string primeramedida1 = xd1.Substring(0, UbicacionXMedida);
                //    string segundamedida1 = xd1.Substring(UbicacionXMedida + 1);
                //    string primeramedida2 = xd2.Substring(0, UbicacionXMedida2);
                //    string segundamedida2 = xd2.Substring(UbicacionXMedida2 + 1);

                //    graphics.DrawString($"\r\n\r\n\r\n\r\n\r\n\r\n    {PedCliList.Where(t => t.PEDIDO == ordenFabricacion.PEDIDO).OrderByDescending(t => t.PEDIDO).FirstOrDefault().LOTE}{espaciosPedidox}{ordenFabricacion.PEDIDO} " +
                //        $"\r\n\r\n         {ordenFabricacion.CG_PROD} {espaciosAnio}     {DateTime.Now.Year} " +
                //        $"\r\n             {primeramedida1}                {segundamedida1}" +
                //        $"\r\n\r\n    {primeramedida2}   {segundamedida2}        {prodList.Where(t => t.CG_PROD == ordenFabricacion.CG_PROD).OrderByDescending(t => t.CG_PROD).FirstOrDefault().CAMPOCOM3.Trim()}" +
                //        $"\r\n                     { PedCliList.Where(t => t.PEDIDO == ordenFabricacion.PEDIDO).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM1.Trim()}    " +
                //        $"\r\n\r\n       {PedCliList.Where(t => t.PEDIDO == ordenFabricacion.PEDIDO).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM3.Trim()}{espaciosSegundoCampo4bis} " +
                //        $"\r\n         {PedCliList.Where(t => t.PEDIDO == ordenFabricacion.PEDIDO).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM5.Trim()}                        " +
                //        $"\r\n\r\n" +
                //        $"\r\n" +
                //        $"\r\n\r\n                         {PedCliList.Where(t => t.PEDIDO == ordenFabricacion.PEDIDO).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM4.Trim()}   " +
                //        $"\r\n                     {PedCliList.Where(t => t.PEDIDO == ordenFabricacion.PEDIDO).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM2.Trim()}" +
                //        $"\r\n\r\n" +
                //        $"\r\n    " +
                //        $"\r\n    ", font, PdfBrushes.Black, new Syncfusion.Drawing.PointF(0, 0));

                //    MemoryStream xx = new MemoryStream();
                //    document1.Save(xx);
                //    document1.Close(true);
                //    await JS.SaveAs("ETOF" + ordenFabricacion.CG_PROD.Trim() + ".pdf", xx.ToArray());
                //}
            }
            if (CodNro.Substring(0, 1) == "1")
            {
                //Chapa de 25 x 95
                PdfDocument document1 = new PdfDocument();
                document1.PageSettings.Size = new Syncfusion.Drawing.SizeF(359, 94);
                document1.PageSettings.Margins.All = 0;
                document1.PageSettings.Rotate = PdfPageRotateAngle.RotateAngle180;
                PdfGrid pdfGrid1 = new PdfGrid();
                PdfPage page = document1.Pages.Add();
                PdfGraphics graphics = page.Graphics;
                PdfFont font = new PdfStandardFont(PdfFontFamily.Helvetica, 12);
                PdfLightTable pdfTable = new PdfLightTable();
                page.Graphics.RotateTransform(-90);
                string espaciosTag = "";
                for (int i = 0; i < (20 - TrzNro.ToString().Length); i++)
                {
                    espaciosTag = espaciosTag + " ";
                }
                string espaciosAnio = "";
                for (int i = 0; i < (32 - PedCliList.Where(t => t.PEDIDO == Convert.ToInt32(TrzNro)).OrderByDescending(t => t.PEDIDO).FirstOrDefault().LOTE.Trim().Length); i++)
                {
                    espaciosAnio = espaciosAnio + " ";
                }
                string espaciosOrif = "";
                for (int i = 0; i < (32 - prodList.CAMPOCOM2.Trim().Length); i++)
                {
                    espaciosOrif = espaciosOrif + " ";
                }
                string espaciosClase = "";
                for (int i = 0; i < (20 - PedCliList.Where(t => t.PEDIDO == Convert.ToInt32(TrzNro)).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM4.Trim().Length); i++)
                {
                    espaciosClase = espaciosClase + " ";
                }
                string espaciosSinLote = "";
                for (int i = 0; i < 43; i++)
                {
                    espaciosSinLote = espaciosSinLote + " ";
                }

                //graphics.DrawString($"\r\n\r\n\r\n                  {ordenFabricacion.PEDIDO}{espaciosTag}{PedCliList.Where(t => t.PEDIDO == ordenFabricacion.PEDIDO).OrderByDescending(t => t.PEDIDO).FirstOrDefault().LOTE.Trim()}{espaciosAnio}{DateTime.Now.Year} " +
                //    $"\r\n\r\n                        {ordenFabricacion.CG_PROD.Trim()}{espaciosMed}{prodList.Where(t => t.CG_PROD == ordenFabricacion.CG_PROD).OrderByDescending(t => t.CG_PROD).FirstOrDefault().CAMPOCOM2.Trim()}{espaciosOrif}{prodList.Where(t => t.CG_PROD.Trim() == ordenFabricacion.CG_PROD.Trim()).OrderByDescending(t => t.CG_PROD.Trim()).FirstOrDefault().CAMPOCOM3.Trim()} " +
                //    $"\r\n\r\n                                                                        {PedCliList.Where(t => t.PEDIDO == ordenFabricacion.PEDIDO).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM4.Trim()}{espaciosClase}{prodList.Where(t => t.CG_PROD.Trim() == ordenFabricacion.CG_PROD.Trim()).OrderByDescending(t => t.CG_PROD.Trim()).FirstOrDefault().CAMPOCOM5.Trim()} ", font, PdfBrushes.Black, new Syncfusion.Drawing.PointF(-359, 0));
                if (!String.IsNullOrEmpty(PedCliList.Where(t => t.PEDIDO == Convert.ToInt32(TrzNro)).OrderByDescending(t => t.PEDIDO).FirstOrDefault().LOTE.Trim()))
                {
                    graphics.DrawString($"\r\n\r\n                                     {Convert.ToInt32(TrzNro)}{espaciosSinLote}{DateTime.Now.Year}     .  .  .  .  ." +
                        $"\r\n               {CodNro.Trim()}          {prodList.CAMPOCOM2.Trim()}{espaciosOrif}{prodList.CAMPOCOM3.Trim()} " +
                        $"\r\n.                                            {PedCliList.Where(t => t.PEDIDO == Convert.ToInt32(TrzNro)).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM1.Trim()}{espaciosClase}{prodList.CAMPOCOM5.Trim()}     .  .  .  .  .", font, PdfBrushes.Black, new Syncfusion.Drawing.PointF(-359, 0));
                }
                else
                {
                    graphics.DrawString($"                                                                                                           \"\r\n\r\n                                     {Convert.ToInt32(TrzNro)}{espaciosTag}{PedCliList.Where(t => t.PEDIDO == Convert.ToInt32(TrzNro)).OrderByDescending(t => t.PEDIDO).FirstOrDefault().LOTE.Trim()}{espaciosAnio}{DateTime.Now.Year}" +
                    $"\r\n               {CodNro.Trim()}          {prodList.CAMPOCOM2.Trim()}{espaciosOrif}{prodList.CAMPOCOM3.Trim()} " +
                    $"\r\n                                             {PedCliList.Where(t => t.PEDIDO == Convert.ToInt32(TrzNro)).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM1.Trim()}{espaciosClase}{prodList.CAMPOCOM5.Trim()}" +
                    $"\r\n\r\n._", font, PdfBrushes.Black, new Syncfusion.Drawing.PointF(-359, 0));
                }

                MemoryStream xx = new MemoryStream();
                document1.Save(xx);
                document1.Close(true);
                await JsRuntime.SaveAs("ETOF" + CodNro.Trim() + ".pdf", xx.ToArray());
            }
            if (CodNro.Substring(0, 4) == "0012" ||
                CodNro.Substring(0, 5) == "00130" ||
                CodNro.Substring(0, 5) == "00131")
            {
                string espaciosbar = "";
                for (int i = 0; i < (16 - PedCliList.Where(t => t.PEDIDO == Convert.ToInt32(TrzNro)).OrderByDescending(t => t.PEDIDO).FirstOrDefault().LOTE.Trim().Length); i++)
                {
                    espaciosbar = espaciosbar + " ";
                }
                //Chapa de 31 x 78
                PdfDocument document1 = new PdfDocument();
                document1.PageSettings.Size = new Syncfusion.Drawing.SizeF(117, 295);
                document1.PageSettings.Orientation = PdfPageOrientation.Landscape;
                document1.PageSettings.Margins.All = 0;
                PdfGrid pdfGrid1 = new PdfGrid();
                PdfPage page = document1.Pages.Add();
                PdfGraphics graphics = page.Graphics;
                PdfFont font = new PdfStandardFont(PdfFontFamily.Courier, 16);
                PdfLightTable pdfTable = new PdfLightTable();

                string presionMostrar = PedCliList.Where(t => t.PEDIDO == Convert.ToInt32(TrzNro)).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM1.Trim();
                int found = presionMostrar.ToUpper().IndexOf("B");
                if (found == -1)
                {
                    presionMostrar = PedCliList.Where(t => t.PEDIDO == Convert.ToInt32(TrzNro)).OrderByDescending(t => t.PEDIDO).FirstOrDefault().CAMPOCOM1.Trim();
                }
                else
                {
                    presionMostrar = presionMostrar.Substring(0, found);
                }

                graphics.DrawString($"\"\r\n\r\n\r\n        {Convert.ToInt32(TrzNro)}           {DateTime.Now.Month}/{DateTime.Now.Year} " +
                $"\r\n        {PedCliList.Where(t => t.PEDIDO == Convert.ToInt32(TrzNro)).OrderByDescending(t => t.PEDIDO).FirstOrDefault().LOTE.Trim()}{espaciosbar}{presionMostrar}" +
                $"\r\n\r\n                              .", font, PdfBrushes.Black, new Syncfusion.Drawing.PointF(0, 0));

                MemoryStream xx = new MemoryStream();
                document1.Save(xx);
                document1.Close(true);
                await JsRuntime.SaveAs("ETOF" + CodNro.Trim() + ".pdf", xx.ToArray());
            }
        }
        //else
        //{
        //    PdfDocument document1 = new PdfDocument();
        //    document1.PageSettings.Size = new Syncfusion.Drawing.SizeF(227, 70);//110
        //    document1.PageSettings.Margins.All = 0;
        //    PdfGrid pdfGrid1 = new PdfGrid();
        //    PdfPage page = document1.Pages.Add();
        //    PdfGraphics graphics = page.Graphics;
        //    PdfFont font = new PdfStandardFont(PdfFontFamily.Helvetica, 10);
        //    PdfLightTable pdfTable = new PdfLightTable();
        //    page.Graphics.RotateTransform(-90);

        //    OrdenDeFabAlta = dbCarga.Where(t => t.CG_ORDFASOC == ordenFabricacion.CG_ORDFASOC).OrderByDescending(t => t.CG_ORDF).FirstOrDefault().CG_ORDF;
        //    graphics.DrawString($"        OF ALTA: {OrdenDeFabAlta}\r\n            {ordenFabricacion.CG_PROD}\r\n{ordenFabricacion.DES_PROD}\r\nCANTIDAD {ordenFabricacion.CANTFAB}    {ordenFabricacion.FE_CIERRE}", font, PdfBrushes.Black, new Syncfusion.Drawing.PointF(-200, 10));

        //    document1.PageSettings.Margins.All = 0;
        //    MemoryStream xx = new MemoryStream();
        //    document1.Save(xx);
        //    document1.Close(true);
        //    await JS.SaveAs("ETOF" + ordenFabricacion.CG_PROD.Trim() + ".pdf", xx.ToArray());
        //}


    }

    protected async Task Ensayos()
    {
        //NavigationManager.NavigateTo($"Pdf/{pedido}/ENSAYOS");
        //await JsRuntime.InvokeVoidAsync("open", new object[2] { $"Pdf/{TrzNro}/ENSAYOS", $"Pdf/{TrzNro}/ENSAYOS" });
        await JsRuntime.InvokeVoidAsync("open", new object[2] { $"pdf-ensayos/{TrzNro}/RUTAENSAYO", $"pdf-ensayos/{TrzNro}/RUTAENSAYO" });
    }
}
<style>
    @@font-face {
        font-family: 'Toast_icons';
        src: url(data:application/x-font-ttf;charset=utf-8;base64,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) format('truetype');
        font-weight: normal;
        font-style: normal;
    }

    #toast_types button {
        margin: 5px;
        min-width: 160px;
        max-width: 160px;
    }

    .toast-icons {
        font-family: 'Toast_icons' !important;
        speak: none;
        font-size: 55px;
        font-style: normal;
        font-weight: normal;
        font-variant: normal;
        text-transform: none;
        line-height: 1;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    #toast_type .e-toast-icon.e-icons {
        height: auto;
        font-size: 30px;
    }

    .toast-icons.e-success::before {
        content: "\e701";
    }

    .toast-icons.e-error::before {
        content: "\e700";
    }

    .toast-icons.e-info::before {
        content: "\e704";
    }

    .toast-icons.e-warning::before {
        content: "\e703";
    }

    #toast_types {
        text-align: center;
    }
</style>